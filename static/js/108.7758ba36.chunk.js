"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[108],{320:function(e,t,n){n.d(t,{LI:function(){return m},VQ:function(){return u},l2:function(){return o},mo:function(){return f},s_:function(){return p},xi:function(){return x}});var r=n(861),a=n(757),i=n.n(a),s="abf5df7d75a67bd02b3b1e4ead1fc14d";function o(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(s,"&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&query=").concat(t,"&page=").concat(n));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=abf5df7d75a67bd02b3b1e4ead1fc14d"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},108:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(791),a=n(689),i=n(643),s=n(982),o=n(861),c=n(885),u=n(757),l=n.n(u),p=n(320),d=n(981),f=n.n(d),v={goback:"MovieDetails_goback__2b9LH",loader:"MovieDetails_loader__Fe9Qc",noImg:"MovieDetails_noImg__xXOok",moviePoster:"MovieDetails_moviePoster__M1O9z",movieContent:"MovieDetails_movieContent__lD1Ru",movieText:"MovieDetails_movieText__Iyrlb",trailerButton:"MovieDetails_trailerButton__l44WX",movieInfo:"MovieDetails_movieInfo__XAfDM",buttonContainer:"MovieDetails_buttonContainer__IPmkr"},m=n(828),h=n(820),x=n(184),_=function(){var e=(0,a.TH)()||"",t=(0,r.useState)(!1),n=(0,c.Z)(t,2),u=n[0],d=n[1],_=(0,r.useState)(!1),b=(0,c.Z)(_,2),g=b[0],j=b[1],w=(0,r.useState)([""]),k=(0,c.Z)(w,2),y=k[0],N=k[1],I=(0,a.s0)(),C=(0,r.useState)(null),T=(0,c.Z)(C,2),D=T[0],M=T[1],S=(0,a.UO)().movieId,Z=function(e){return e.map((function(e){return e.name})).join(", ")},A=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.xi)(t).then((function(e){var t=e.results.filter((function(e){return e.name.includes("Trailer")})),n=t.map((function(e){return"https://www.youtube.com/embed/".concat(e.key)}));0!==n.length?N((0,s.Z)(n)):N([""])})).finally((function(){j(!g)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){d(!0),(0,p.VQ)(Number(S)).then((function(e){M(e),d(!1)}))}),[S]);return(0,x.jsx)(x.Fragment,{children:u?(0,x.jsx)("div",{className:v.loader,children:(0,x.jsx)(i.g4,{height:"80",width:"80",radius:"9",color:"#ccc",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}):D&&(0,x.jsxs)("div",{style:{backgroundImage:"url(\n              https://image.tmdb.org/t/p/w1280".concat(D.backdrop_path,"\n            )"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},className:v.movieContainer,children:[(0,x.jsx)("div",{className:v.buttonContainer,children:(0,x.jsxs)("button",{className:v.goback,type:"button",onClick:function(){var t;I((null===(t=e.state)||void 0===t?void 0:t.from)||"/")},children:[(0,x.jsx)(m.cWV,{})," Go back"]})}),(0,x.jsxs)("div",{className:v.movieContent,children:[D.poster_path?(0,x.jsx)("img",{className:v.moviePoster,src:"https://image.tmdb.org/t/p/w500".concat(D.poster_path),alt:D.title}):(0,x.jsx)("div",{className:v.noImg}),(0,x.jsxs)("div",{className:v.movieInfo,children:[(0,x.jsx)("h2",{className:v.movieTitle,children:"".concat(D.title," (").concat(D.release_date.slice(0,4),")")}),(0,x.jsx)("p",{className:v.movieText,children:"User score: ".concat(D.vote_average&&parseInt(10*D.vote_average),"%")}),(0,x.jsxs)("h3",{className:v.movieSubTitle,children:[D.overview&&"Overview"," ",(0,x.jsx)("p",{className:v.movieText,children:D.overview})]}),(0,x.jsxs)("h3",{className:v.movieSubTitle,children:[Z(D.genres)&&"Genres",(0,x.jsx)("p",{className:v.movieText,children:Z(D.genres)})]}),(0,x.jsxs)("button",{className:v.trailerButton,onClick:function(){return A(D.id)},children:[(0,x.jsx)(h.b1v,{size:20}),"WATCH TRAILERS"]}),(0,x.jsx)(f(),{toggler:g,sources:y})]})]})]})})},b="AditionalInfo_AditionalInfo__QP00w",g="AditionalInfo_aditionItem__OMxTe",j="AditionalInfo_aditionLink__2w97t",w="AditionalInfo_aditionList__frUyE",k="AditionalInfo_activeAditionalLink__JSabY",y=n(731),N=function(){var e,t,n,r,i=(0,a.TH)(),s=function(e){return e.isActive?k:j};return(0,x.jsx)("div",{className:b,children:(0,x.jsxs)("ul",{className:w,children:[(0,x.jsx)("li",{className:g,children:(0,x.jsx)(y.OL,{className:s,state:{from:null!==(e=null===(t=i.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"},to:"cast",children:"Cast"})}),(0,x.jsx)("li",{className:g,children:(0,x.jsx)(y.OL,{className:s,state:{from:null!==(n=null===(r=i.state)||void 0===r?void 0:r.from)&&void 0!==n?n:"/"},to:"reviews",children:"Reviews"})})]})})},I=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(_,{}),(0,x.jsx)(N,{}),(0,x.jsx)(r.Suspense,{fallback:(0,x.jsx)("div",{style:{height:"100vh",backgroundColor:"rgba(17, 24, 39, 1)",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",marginLeft:"auto",marginRight:"auto"},children:(0,x.jsx)(i.g4,{height:"80",width:"80",radius:"9",color:"#ccc",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}),children:(0,x.jsx)(a.j3,{})})]})}}}]);
//# sourceMappingURL=108.7758ba36.chunk.js.map